"use strict";(self.webpackChunkstore_backend=self.webpackChunkstore_backend||[]).push([[459],{1734:(e,a,t)=>{t.d(a,{A:()=>d});var n=t(5043),r=t(3260);const d=()=>{const[e,a]=(0,n.useState)(null),t=(0,r.Zp)();return{rowDataId:e,setRowDataId:a,handleBtnAdd:()=>t("revision/add"),handleBtnEdit:e=>t("revision/edit/".concat(e)),handleSelect:t=>{t.id===e?a(null):a(t.id)},handleCancel:()=>t(-1)}}},2835:(e,a,t)=>{t.d(a,{A:()=>c});var n=t(9379),r=t(45),d=t(3200);const o=["data","error","loading"],c=(e,a)=>{var t;const c=(0,d.A)(e),{data:i,error:s,loading:l}=c,u=(0,r.A)(c,o),h=null!==(t=null===i||void 0===i?void 0:i.map((e=>a?a(e):e)))&&void 0!==t?t:[];return(0,n.A)((0,n.A)({data:h},u),{},{error:s,loading:l})}},3200:(e,a,t)=>{t.d(a,{A:()=>r});var n=t(5043);const r=e=>{const[a,t]=(0,n.useState)(null),[r,d]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null);return(0,n.useEffect)((()=>{(async()=>{d(!0),c(null);try{const a=await fetch("".concat(e));if(!a.ok)throw new Error("HTTP error ".concat(a.status));const n=await a.json();t(n)}catch(a){console.error("[useFetchData] ".concat(e),a),c(a.message)}finally{d(!1)}})()}),[e]),{data:a,loading:r,error:o}}},6459:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var n=t(9379),r=t(3089),d=t(3969),o=t(9598),c=t(1859),i=t(8274),s=t(7921);const l={page:0,pageSize:5},u=[{field:"id",headerName:"SKU"},{field:"name",headerName:"Product Name",width:120},(0,n.A)({field:"price",headerName:"Price"},s.D),{field:"qty",headerName:"Quantity",type:"number"},{field:"mainCategory",headerName:"Main category"},{field:"subCategory",headerName:"subcategory"},{field:"status",headerName:"Product status",type:"boolean"},{field:"updatedAt",headerName:"Last updated",type:"dateTime",width:200}];var h=t(8959),m=t(4961),p=t(2835),A=t(1734),x=t(579);const g=()=>{const{t:e}=(0,m.B)(),{data:a}=(0,p.A)(h.Ee,(e=>(0,n.A)((0,n.A)({},e),{},{updatedAt:new Date(e.updatedAt)}))),{rowDataId:t,handleSelect:s,handleBtnAdd:g,handleBtnEdit:y}=(0,A.A)();return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(r.A,{container:!0,direction:"column",sx:{height:"calc( 100vh - 140px )"},children:[(0,x.jsx)(r.A,{sx:{flex:1},size:12,children:(0,x.jsx)(d.A,{sx:{height:"100%"},children:(0,x.jsx)(i.z,{rows:a,columns:u,initialState:{pagination:{paginationModel:l}},pageSizeOptions:[5],showToolbar:!0,onRowClick:s})})}),(0,x.jsx)(r.A,{sx:{flex:"0 0 60px"},size:12,children:(0,x.jsx)(d.A,{sx:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:(0,x.jsxs)(o.A,{size:"large",sx:{p:1},children:[(0,x.jsx)(c.A,{disabled:null!=t,onClick:g,children:e("add_product")}),(0,x.jsx)(c.A,{disabled:!t,onClick:()=>y(t||0),children:e("edit_product")})]})})})]})})}},7921:(e,a,t)=>{t.d(a,{D:()=>r});const n=new Intl.NumberFormat("zh-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0,maximumFractionDigits:0}),r={type:"number",width:130,valueFormatter:e=>n.format(Number(e))}},8959:(e,a,t)=>{t.d(a,{Ee:()=>i,UH:()=>r,Us:()=>o,cA:()=>c,jk:()=>d,mx:()=>l,nr:()=>s});const n="https://store-mock-api.onrender.com",r="".concat(n,"/summary"),d="".concat(n,"/salesWeekly"),o="".concat(n,"/saleMonth"),c="".concat(n,"/saleYearly"),i="".concat(n,"/products"),s="".concat(n,"/customers"),l="https://api.cloudinary.com/v1_1/ddzpuxyjr/image/upload"}}]);
//# sourceMappingURL=459.59538177.chunk.js.map