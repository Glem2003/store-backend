"use strict";(self.webpackChunkstore_backend=self.webpackChunkstore_backend||[]).push([[517],{1734:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(5043),n=a(3260);const o=()=>{const[e,t]=(0,r.useState)(null),a=(0,n.Zp)();return{rowDataId:e,setRowDataId:t,handleBtnAdd:()=>a("revision/add"),handleBtnEdit:e=>a("revision/edit/".concat(e)),handleSelect:a=>{a.id===e?t(null):t(a.id)},handleCancel:()=>a(-1)}}},2596:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(267),n=a(6995);const o=e=>{const t=(0,r.A)();return{isMobile:(0,n.A)(t.breakpoints.down(e))}}},3200:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(5043);const n=e=>{const[t,a]=(0,r.useState)(null),[n,o]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{o(!0),i(null);try{const t=await fetch("".concat(e));if(!t.ok)throw new Error("HTTP error ".concat(t.status));const r=await t.json();a(r)}catch(t){console.error("[useFetchData] ".concat(e),t),i(t.message)}finally{o(!1)}})()}),[e]),{data:t,loading:n,error:s}}},3517:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var r=a(9379),n=a(3969),o=a(3089),s=a(5895),i=a(6154),l=a(2419),d=a(9598),c=a(1859),h=a(7873),u=a(8470),m=a(4961),g=a(2596),p=a(579);const A=e=>{const{t:t}=(0,m.B)(),{isMobile:a}=(0,g.A)("sm"),{value:r,onChange:o}=e;return(0,p.jsxs)(n.A,{display:"flex",flexDirection:a?"row":"column",alignItems:"center",gap:2,children:[(0,p.jsx)(h.A,{variant:"rounded",src:r||"",sx:{minWidth:a?60:120,height:a?60:120,border:"1px solid #ccc"}}),(0,p.jsx)("input",{accept:"image/*",id:"upload-image",type:"file",style:{display:"none"},onChange:o}),(0,p.jsx)("label",{htmlFor:"upload-image",children:(0,p.jsx)(c.A,{variant:"contained",color:"primary",component:"span",startIcon:(0,p.jsx)(u.A,{}),size:a?"small":"medium",children:t("select_image")})})]})};var y=a(6592),x=a(3971),f=a(5847),w=a(5030);const C=e=>{const{t:t}=(0,m.B)(),{label:a,isActive:r,onChange:n}=e;return(0,p.jsxs)(y.A,{component:"fieldset",sx:{border:"1px solid gray",p:1,borderRadius:1,minWidth:150},children:[(0,p.jsx)(x.A,{component:"legend",children:t(a)}),(0,p.jsx)(f.A,{control:(0,p.jsx)(w.A,{checked:r,onChange:e=>n(e.target.checked)}),label:t(r?"active":"disabled"),labelPlacement:"start"})]})};var v=a(4858),j=a(3023),_=a(1911),b=a(8776),S=a(5877);const D=e=>{const{open:t,onClose:a,title:r,content:n,type:o="info",inquiry:s=!1,onCancel:i,onConfirm:l}=e,{t:d}=(0,m.B)();return(0,p.jsxs)(j.A,{open:t,onClose:a,children:[(0,p.jsx)(_.A,{color:o,children:r}),(0,p.jsx)(b.A,{children:n}),(0,p.jsx)(S.A,{children:s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.A,{color:"error",onClick:l,children:d("confirm")}),(0,p.jsx)(c.A,{onClick:i,children:d("cancel")})]}):(0,p.jsx)(c.A,{onClick:l||a,children:d("close")})})]})},I={product:{add:{title:"add_product"},edit:{title:"edit_product"}},order:{add:{title:""},edit:{title:""}},customers:{add:{title:"add_customers"},edit:{title:"edit_customers"}}};var k=a(5043),E=a(3260),q=a(8959);const F=e=>{let{reset:t,setImagesFile:a,setLoading:n,trigger:o,setMessageDialog:s,watch:i,error:l,imageFile:d,uploadImageToCloudinary:c,watchedSKU:h,watchName:u,watchedPrice:m,watchedQty:g,watchedMainCategory:p,watchedSubCategory:A,watchedStatus:y,t:x,setError:f,showConfirmDialog:w}=e;const C=(0,E.Zp)();return{handleReset:()=>{t(),a(null)},handleSave:async()=>{n((e=>(0,r.A)((0,r.A)({},e),{},{save:!0})));if(!await o())return s({open:!0,title:x("fail"),content:x("form_validation_fail"),type:"error"}),void n((e=>(0,r.A)((0,r.A)({},e),{},{save:!1})));let e=i("images");!l&&d&&(e=await c(d));const t={id:h,name:u,price:m,qty:g,mainCategory:p,subCategory:A,status:y,images:e,updatedAt:new Date};await fetch("".concat(q.Ee,"/").concat(h),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),console.log(t),n((e=>(0,r.A)((0,r.A)({},e),{},{save:!1}))),s({open:!0,title:x("success"),content:x("operation_completed"),type:"success"})},handleAdd:async()=>{n((e=>(0,r.A)((0,r.A)({},e),{},{add:!0})));if(!await o())return s({open:!0,title:x("fail"),content:x("form_validation_fail"),type:"error"}),void n((e=>(0,r.A)((0,r.A)({},e),{},{add:!1})));const e=await fetch(q.Ee),w=await e.json(),C=i("id");if(w.some((e=>e.id===C)))return f("id",{type:"manual",message:x("sku_already_exists")}),s({open:!0,title:x("fail"),content:x("form_validation_fail"),type:"error"}),void n((e=>(0,r.A)((0,r.A)({},e),{},{add:!1})));let v=i("images");!l&&d&&(v=await c(d));const j={id:h,name:u,price:m,qty:g,mainCategory:p,subCategory:A,status:y,images:v,updatedAt:new Date};await fetch(q.Ee,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),console.log(j),s({open:!0,title:x("success"),content:x("operation_completed"),type:"success"}),t(),a(null),n((e=>(0,r.A)((0,r.A)({},e),{},{add:!1})))},handleDelete:async()=>{if(!h)return;n((e=>(0,r.A)((0,r.A)({},e),{},{delete:!0})));if(await w({title:x("warning"),content:x("are_you_sure_you_want_to_delete_this_data"),type:"warning"}))try{if(!(await fetch("".concat(q.Ee,"/").concat(h),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("\u522a\u9664\u5931\u6557");s({open:!0,title:x("success"),content:"SKU: ".concat(h," ").concat(x("deleted")),type:"success",onConfirm(){n((e=>(0,r.A)((0,r.A)({},e),{},{delete:!1}))),C(-1)}}),t(),a(null)}catch(e){s({open:!0,title:x("error"),content:x("delete_fail"),type:"error"})}else n((e=>(0,r.A)((0,r.A)({},e),{},{delete:!1})))}}},z=()=>{const[e,t]=(0,k.useState)({save:!1,add:!1,delete:!1}),[a,r]=(0,k.useState)({open:!1,title:"",content:"",type:"info",inquiry:!1,onConfirm:void 0,onCancel:void 0});return{loading:e,setLoading:t,messageDialog:a,setMessageDialog:r}},M=e=>{let{reset:t,setValue:a}=e;return{getFormDataFromId:(0,k.useCallback)((async e=>{try{var r;const n=await fetch("".concat(q.Ee,"/").concat(e));if(!n.ok)throw new Error("Https Error");const o=await n.json();if(!o)return;const s={id:o.id,name:o.name,price:Number(o.price),qty:Number(o.qty),mainCategory:o.mainCategory||"",subCategory:o.subCategory||"",status:null!==(r=o.status)&&void 0!==r&&r,images:o.images||""};t(s),o.images&&a("images",o.images)}catch(n){console.error(n)}}),[t,a])}},P=e=>{let{setMessageDialog:t}=e;return{showConfirmDialog:e=>new Promise((a=>{var n;t((0,r.A)((0,r.A)({},e),{},{open:!0,inquiry:!0,type:null!==(n=e.type)&&void 0!==n?n:"info",onConfirm:()=>{t((e=>(0,r.A)((0,r.A)({},e),{},{open:!1}))),a(!0)},onCancel:()=>{t((e=>(0,r.A)((0,r.A)({},e),{},{open:!1}))),a(!1)}}))})),handleClose:()=>{t((e=>(0,r.A)((0,r.A)({},e),{},{open:!1})))}}},T=e=>({watchedSKU:e("id"),watchName:e("name"),watchedPrice:e("price"),watchedQty:e("qty"),watchedStatus:e("status"),watchedMainCategory:e("mainCategory"),watchedSubCategory:e("subCategory"),watchedImages:e("images")}),N=e=>{let{setValue:t}=e;const[a,r]=(0,k.useState)(null);return{imageFile:a,setImagesFile:r,handleImageChange:e=>{var a;const n=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!n)return;const o=new FileReader;o.onload=()=>{const e=o.result;t("images",e),r(n)},o.onerror=e=>{console.log("FileReader error:",e)},o.readAsDataURL(n)}}},O=()=>{const[e,t]=(0,k.useState)({});return{categoryOptions:e,setCategoryOptions:t,handleMainCategoryChange:e=>{t((t=>t[e]?t:(0,r.A)((0,r.A)({},t),{},{[e]:[]})))}}},U=async e=>{const t=new FormData;t.append("file",e),t.append("upload_preset","store_backend");const a=await fetch(q.mx,{method:"POST",body:t});if(!a.ok)throw new Error("Images upload fail");return(await a.json()).secure_url},R=e=>{const t={};for(const{mainCategory:r,subCategory:n}of e)r&&n&&(t[r]||(t[r]=new Set),t[r].add(n));const a={};for(const[r,n]of Object.entries(t))a[r]=Array.from(n);return a};var W=a(45),B=a(3200);const L=["data","error","loading"],K=()=>{var e;const t=(0,B.A)(q.Ee),{data:a,error:n,loading:o}=t,s=(0,W.A)(t,L),i=null!==(e=null===a||void 0===a?void 0:a.map((e=>(0,r.A)((0,r.A)({},e),{},{updatedAt:new Date(e.updatedAt)}))))&&void 0!==e?e:[];return(0,r.A)((0,r.A)({data:i},s),{},{error:n,loading:o})},V=()=>{const{data:e,error:t}=K(),{t:a}=(0,m.B)(),{register:r,reset:n,setValue:o,watch:s,control:i,trigger:l,setError:d,formState:{errors:c}}=(0,v.mN)({mode:"onBlur",defaultValues:{id:"",name:"",price:0,qty:0,mainCategory:"",subCategory:"",status:!1,images:null}}),{watchedSKU:h,watchName:u,watchedPrice:g,watchedQty:p,watchedStatus:A,watchedMainCategory:y,watchedSubCategory:x,watchedImages:f}=T(s),{categoryOptions:w,setCategoryOptions:C,handleMainCategoryChange:j}=O(),{imageFile:_,setImagesFile:b,handleImageChange:S}=N({setValue:o}),{loading:D,setLoading:I,messageDialog:E,setMessageDialog:q}=z(),{getFormDataFromId:W}=M({reset:n,setValue:o}),{showConfirmDialog:B,handleClose:L}=P({setMessageDialog:q}),{handleReset:V,handleSave:J,handleAdd:H,handleDelete:Q}=F({reset:n,setImagesFile:b,setLoading:I,trigger:l,setMessageDialog:q,watch:s,error:t,imageFile:_,uploadImageToCloudinary:U,watchedSKU:h,watchName:u,watchedPrice:g,watchedQty:p,watchedMainCategory:y,watchedSubCategory:x,watchedStatus:A,t:a,setError:d,showConfirmDialog:B});return(0,k.useEffect)((()=>{if(!Array.isArray(e))return;const t=R(e);C((e=>JSON.stringify(e)===JSON.stringify(t)?e:t))}),[e,C]),{register:r,setValue:o,reset:n,control:i,loading:D,errors:c,watchedSKU:h,watchName:u,watchedPrice:g,watchedQty:p,watchedStatus:A,watchedMainCategory:y,watchedSubCategory:x,watchedImages:f,messageDialog:E,categoryOptions:w,imageFile:_,error:t,setImagesFile:b,setMessageDialog:q,getFormDataFromId:W,handleMainCategoryChange:j,handleImageChange:S,handleAdd:H,handleSave:J,handleReset:V,handleDelete:Q,handleClose:L}};var J=a(1734);const H=e=>{var t,a,h;const{mode:u,resource:y}=e,{id:x}=(0,E.g)(),f=null===(t=I[y])||void 0===t?void 0:t[u],{isMobile:w}=(0,g.A)("md"),{t:j}=(0,m.B)(),{register:_,control:b,errors:S,loading:q,messageDialog:F,watchedMainCategory:z,watchedImages:M,categoryOptions:P,handleReset:T,handleAdd:N,handleSave:O,handleDelete:U,handleClose:R,getFormDataFromId:W,handleImageChange:B}=V(),{handleCancel:L}=(0,J.A)(),K=Object.keys(P);return(0,k.useEffect)((()=>{x&&W(x)}),[x,W]),(0,p.jsxs)(n.A,{component:"form",sx:{p:3,bgcolor:"background.paper",borderRadius:2,boxShadow:2,height:"calc( 100vh - 140px )"},children:[(0,p.jsxs)(o.A,{container:!0,size:12,height:"100%",children:[(0,p.jsx)(o.A,{size:12,children:(0,p.jsx)(s.A,{variant:"h5",mb:2,fontWeight:600,children:j(f.title)})}),(0,p.jsxs)(o.A,{container:!0,spacing:3,sx:{overflowY:"auto",height:"calc( 100% - 140px )"},children:[(0,p.jsx)(o.A,{size:{xs:12,md:8},pt:1,children:(0,p.jsxs)(o.A,{container:!0,spacing:2,children:[(0,p.jsx)(o.A,{size:{xs:12},children:(0,p.jsx)(v.xI,{name:"id",control:b,rules:{required:j("this_field_is_required")},render:e=>{var t;let{field:a}=e;return(0,p.jsx)(i.A,(0,r.A)((0,r.A)({},a),{},{fullWidth:!0,variant:"outlined",label:"SKU",required:!0,error:!!S.id,helperText:null===(t=S.id)||void 0===t?void 0:t.message,placeholder:j("input_product_serial_number"),slotProps:{input:{readOnly:"edit"===u}}}))}})}),(0,p.jsx)(o.A,{size:{xs:12},children:(0,p.jsx)(v.xI,{name:"name",control:b,rules:{required:j("this_field_is_required")},render:e=>{var t;let{field:a}=e;return(0,p.jsx)(i.A,(0,r.A)((0,r.A)({},a),{},{fullWidth:!0,variant:"outlined",label:j("product_name"),required:!0,error:!!S.name,helperText:null===(t=S.name)||void 0===t?void 0:t.message}))}})}),(0,p.jsx)(o.A,{size:{xs:12,md:6},children:(0,p.jsx)(i.A,(0,r.A)((0,r.A)({fullWidth:!0,variant:"outlined",label:j("price"),id:"price",type:"number",required:!0},_("price",{required:j("this_field_is_required"),valueAsNumber:!0,min:{value:0,message:j("price_cannot_be_less_than_0")}})),{},{error:!!S.price,helperText:null===(a=S.price)||void 0===a?void 0:a.message}))}),(0,p.jsx)(o.A,{size:{xs:12,md:6},children:(0,p.jsx)(i.A,(0,r.A)((0,r.A)({fullWidth:!0,variant:"outlined",label:j("quantity"),id:"qty",type:"number",required:!0},_("qty",{required:j("this_field_is_required"),valueAsNumber:!0,min:{value:0,message:j("price_cannot_be_less_than_0")}})),{},{error:!!S.qty,helperText:null===(h=S.qty)||void 0===h?void 0:h.message}))}),(0,p.jsxs)(o.A,{container:!0,size:{xs:12},children:[(0,p.jsx)(o.A,{size:6,children:(0,p.jsx)(v.xI,{name:"mainCategory",control:b,render:e=>{let{field:t}=e;return(0,p.jsx)(l.A,{freeSolo:!0,options:K,value:t.value,onInputChange:(e,a)=>t.onChange(a),onChange:(e,a)=>t.onChange(a||""),renderInput:e=>(0,p.jsx)(i.A,(0,r.A)((0,r.A)({},e),{},{label:j("product_category"),variant:"outlined",placeholder:j("input_or_select_category")}))})}})}),(0,p.jsx)(o.A,{size:6,children:(0,p.jsx)(v.xI,{name:"subCategory",control:b,render:e=>{let{field:t}=e;return(0,p.jsx)(l.A,{freeSolo:!0,value:t.value,options:Array.isArray(P[z])?P[z]:[],disabled:!z,onInputChange:(e,a)=>t.onChange(a),onChange:(e,a)=>t.onChange(a||""),renderInput:e=>(0,p.jsx)(i.A,(0,r.A)((0,r.A)({},e),{},{label:j("subcategory"),variant:"outlined",placeholder:j("input_or_select_subcategory")}))})}})})]})]})}),(0,p.jsxs)(o.A,{container:!0,size:{xs:12,md:4},display:w?"flex":"grid",gap:w?1:4,pb:1,sx:{placeContent:w?"space-between":"flex-start"},children:[(0,p.jsx)(o.A,{order:w?2:1,children:(0,p.jsx)(v.xI,{name:"images",control:b,render:()=>(0,p.jsx)(A,{value:M,onChange:B})})}),(0,p.jsx)(o.A,{order:w?1:2,children:(0,p.jsx)(v.xI,{name:"status",control:b,render:e=>{let{field:t}=e;return(0,p.jsx)(C,{label:"product_status",isActive:t.value,onChange:t.onChange})}})})]})]}),(0,p.jsx)(o.A,{size:12,children:(0,p.jsxs)(n.A,{mt:4,display:"flex",justifyContent:"center",gap:2,children:[(0,p.jsxs)(d.A,{variant:"outlined",children:[(0,p.jsx)(c.A,{onClick:"add"===u?N:O,loading:"add"===u?q.add:q.save,children:j("add"===u?"add":"save")}),(0,p.jsx)(c.A,{onClick:T,children:j("reset")}),"edit"===u&&(0,p.jsx)(c.A,{color:"error",onClick:U,loading:q.delete,children:j("delete")})]}),(0,p.jsx)(c.A,{variant:"contained",color:"error",onClick:L,children:j("cancel")})]})})]}),(0,p.jsx)(D,{title:F.title,content:F.content,open:F.open,type:F.type,onConfirm:F.onConfirm,onCancel:F.onCancel,onClose:R,inquiry:F.inquiry})]})},Q=e=>{let{reset:t,trigger:a,API:n,watch:o,watchedCustomerId:s,watchedUserName:i,watchedEmail:l,watchedPhone:d,watchedStatus:c,setLoading:h,setMessageDialog:u,t:m,showConfirmDialog:g,setError:p}=e;const A=(0,E.Zp)();return{handleReset:()=>t(),handleAdd:async()=>{h((e=>(0,r.A)((0,r.A)({},e),{},{add:!0})));if(!await a())return u({open:!0,title:m("fail"),content:m("form_validation_fail"),type:"error"}),void h((e=>(0,r.A)((0,r.A)({},e),{},{add:!1})));const e=await fetch(n),g=await e.json(),A=o("id");if(g.some((e=>e.id===A)))return p("id",{type:"manual",message:m("sku_already_exists")}),u({open:!0,title:m("fail"),content:m("form_validation_fail"),type:"error"}),void h((e=>(0,r.A)((0,r.A)({},e),{},{add:!1})));const y={id:s,username:i,email:l,phone:d,status:c,createdAt:new Date};await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),console.log(y),u({open:!0,title:m("success"),content:m("operation_completed"),type:"success"}),t(),h((e=>(0,r.A)((0,r.A)({},e),{},{add:!1})))},handleSave:async()=>{h((e=>(0,r.A)((0,r.A)({},e),{},{save:!0})));if(!await a())return u({open:!0,title:m("fail"),content:m("form_validation_fail"),type:"error"}),void h((e=>(0,r.A)((0,r.A)({},e),{},{save:!1})));const e={id:s,username:i,email:l,phone:d,status:c};await fetch("".concat(n,"/").concat(s),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),console.log(e),h((e=>(0,r.A)((0,r.A)({},e),{},{save:!1}))),u({open:!0,title:m("success"),content:m("operation_completed"),type:"success"})},handleDelete:async()=>{if(!s)return;h((e=>(0,r.A)((0,r.A)({},e),{},{delete:!0})));if(await g({title:m("warning"),content:m("are_you_sure_you_want_to_delete_this_data"),type:"warning"}))try{if(!(await fetch("".concat(n,"/").concat(s),{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok)throw new Error("\u522a\u9664\u5931\u6557");u({open:!0,title:m("success"),content:"SKU: ".concat(s," ").concat(m("deleted")),type:"success",onConfirm(){h((e=>(0,r.A)((0,r.A)({},e),{},{delete:!1}))),A(-1)}}),t()}catch(e){u({open:!0,title:m("error"),content:m("delete_fail"),type:"error"})}else h((e=>(0,r.A)((0,r.A)({},e),{},{delete:!1})))}}},Y=e=>{let{reset:t,API:a}=e;return{getFormDataFromId:(0,k.useCallback)((async e=>{try{const r=await fetch("".concat(a,"/").concat(e));if(!r.ok)throw new Error("Https Error");const n=await r.json();if(!n)return;const o={id:n.id,username:n.username,email:n.email,phone:n.phone,status:n.status};t(o),console.log(o)}catch(r){console.error(r)}}),[a,t])}},Z=e=>({watchedCustomerId:e("id"),watchedUserName:e("username"),watchedEmail:e("email"),watchedPhone:e("phone"),watchedStatus:e("status")}),G=()=>{const{t:e}=(0,m.B)(),{register:t,reset:a,watch:r,control:n,trigger:o,setError:s,formState:{errors:i}}=(0,v.mN)({mode:"onBlur",defaultValues:{id:"",username:"",email:"",phone:"",status:!1}}),{watchedCustomerId:l,watchedUserName:d,watchedEmail:c,watchedPhone:h,watchedStatus:u}=Z(r),{getFormDataFromId:g}=Y({reset:a,API:q.nr}),{loading:p,setLoading:A,messageDialog:y,setMessageDialog:x}=z(),{showConfirmDialog:f,handleClose:w}=P({setMessageDialog:x}),{handleReset:C,handleAdd:j,handleSave:_,handleDelete:b}=Q({reset:a,trigger:o,API:q.nr,watch:r,watchedCustomerId:l,watchedUserName:d,watchedEmail:c,watchedPhone:h,watchedStatus:u,t:e,setLoading:A,setMessageDialog:x,showConfirmDialog:f,setError:s});return{register:t,control:n,handleAdd:j,handleReset:C,handleSave:_,getFormDataFromId:g,loading:p,messageDialog:y,errors:i,handleClose:w,handleDelete:b,watch:r}},X=e=>{var t;const{mode:a,resource:l}=e,{id:h}=(0,E.g)(),u=null===(t=I[l])||void 0===t?void 0:t[a],{t:g}=(0,m.B)(),{control:A,getFormDataFromId:y,handleReset:x,handleAdd:f,handleSave:w,loading:j,messageDialog:_,errors:b,handleClose:S,handleDelete:q,watch:F}=G(),{handleCancel:z}=(0,J.A)();return(0,k.useEffect)((()=>{h&&y(h)}),[h,y]),(0,p.jsxs)(n.A,{component:"form",sx:{p:3,bgcolor:"background.paper",borderRadius:2,boxShadow:2,height:"calc( 100vh - 140px )"},children:[(0,p.jsxs)(o.A,{container:!0,size:12,height:"100%",children:[(0,p.jsx)(o.A,{size:12,children:(0,p.jsx)(s.A,{variant:"h5",mb:2,fontWeight:600,children:g(u.title)})}),(0,p.jsxs)(o.A,{container:!0,spacing:3,size:12,sx:{overflowY:"auto",height:"calc( 100% - 140px )"},children:[(0,p.jsx)(o.A,{size:{xs:12,md:8},pt:1,children:(0,p.jsxs)(o.A,{container:!0,spacing:2,children:[(0,p.jsx)(o.A,{size:{xs:12,md:10},children:(0,p.jsx)(v.xI,{name:"id",control:A,rules:{required:g("this_field_is_required")},render:e=>{var t;let{field:n}=e;return(0,p.jsx)(i.A,(0,r.A)((0,r.A)({},n),{},{fullWidth:!0,required:!0,error:!!b.id,helperText:null===(t=b.id)||void 0===t?void 0:t.message,label:g("customer_id"),variant:"outlined",slotProps:{input:{readOnly:"edit"===a}}}))}})}),(0,p.jsx)(o.A,{size:{xs:12,md:10},children:(0,p.jsx)(v.xI,{name:"username",control:A,rules:{required:g("this_field_is_required")},render:e=>{var t;let{field:a}=e;return(0,p.jsx)(i.A,(0,r.A)((0,r.A)({},a),{},{fullWidth:!0,required:!0,error:!!b.username,helperText:null===(t=b.username)||void 0===t?void 0:t.message,label:g("username"),variant:"outlined"}))}})}),(0,p.jsx)(o.A,{size:{xs:12,md:10},children:(0,p.jsx)(v.xI,{name:"email",control:A,render:e=>{let{field:t}=e;return(0,p.jsx)(i.A,(0,r.A)((0,r.A)({},t),{},{fullWidth:!0,label:g("email"),variant:"outlined"}))}})}),(0,p.jsx)(o.A,{size:{xs:12,md:10},children:(0,p.jsx)(v.xI,{name:"phone",control:A,render:e=>{let{field:t}=e;return(0,p.jsx)(i.A,(0,r.A)((0,r.A)({},t),{},{fullWidth:!0,label:g("phone"),variant:"outlined"}))}})})]})}),(0,p.jsx)(o.A,{container:!0,size:{xs:12,md:4},pb:1,children:(0,p.jsx)(o.A,{children:(0,p.jsx)(v.xI,{name:"status",control:A,render:e=>{let{field:t}=e;return(0,p.jsx)(C,{label:"customer_status",isActive:t.value,onChange:t.onChange})}})})})]}),(0,p.jsx)(o.A,{size:12,children:(0,p.jsxs)(n.A,{mt:4,display:"flex",justifyContent:"center",gap:2,children:[(0,p.jsxs)(d.A,{variant:"outlined",children:[(0,p.jsx)(c.A,{onClick:"add"===a?f:w,loading:"add"===a?j.add:j.save,children:g("add"===a?"add":"save")}),(0,p.jsx)(c.A,{onClick:x,children:g("reset")}),"edit"===a&&(0,p.jsx)(c.A,{onClick:q,color:"error",children:g("delete")})]}),(0,p.jsx)(c.A,{variant:"contained",color:"error",onClick:z,children:g("cancel")})]})})]}),(0,p.jsx)(D,{title:_.title,content:_.content,open:_.open,type:_.type,onConfirm:_.onConfirm,onCancel:_.onCancel,onClose:S,inquiry:_.inquiry})]})},$=e=>{let{resource:t,mode:a}=e;switch(t){case"product":return(0,p.jsx)(H,{resource:"product",mode:a});case"customers":return(0,p.jsx)(X,{resource:"customers",mode:a});default:throw new Error("Unknown resource: ".concat(t))}},ee=e=>{let{resource:t,mode:a}=e;return $({resource:t,mode:a})}},8959:(e,t,a)=>{a.d(t,{Ee:()=>l,UH:()=>n,Us:()=>s,cA:()=>i,jk:()=>o,mx:()=>c,nr:()=>d});const r="https://store-mock-api.onrender.com",n="".concat(r,"/summary"),o="".concat(r,"/salesWeekly"),s="".concat(r,"/saleMonth"),i="".concat(r,"/saleYearly"),l="".concat(r,"/products"),d="".concat(r,"/customers"),c="https://api.cloudinary.com/v1_1/ddzpuxyjr/image/upload"}}]);
//# sourceMappingURL=517.c398fd0d.chunk.js.map